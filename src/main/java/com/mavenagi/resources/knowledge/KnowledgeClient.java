/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.mavenagi.resources.knowledge;

import com.mavenagi.core.ClientOptions;
import com.mavenagi.core.RequestOptions;
import com.mavenagi.resources.knowledge.types.FinalizeKnowledgeBaseVersionRequest;
import com.mavenagi.resources.knowledge.types.KnowledgeBaseRequest;
import com.mavenagi.resources.knowledge.types.KnowledgeBaseResponse;
import com.mavenagi.resources.knowledge.types.KnowledgeBaseVersion;
import com.mavenagi.resources.knowledge.types.KnowledgeDocumentRequest;
import com.mavenagi.resources.knowledge.types.KnowledgeDocumentResponse;

public class KnowledgeClient {
    protected final ClientOptions clientOptions;

    private final RawKnowledgeClient rawClient;

    public KnowledgeClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new RawKnowledgeClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public RawKnowledgeClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Update a knowledge base or create it if it doesn't exist.
     */
    public KnowledgeBaseResponse createOrUpdateKnowledgeBase(KnowledgeBaseRequest request) {
        return this.rawClient.createOrUpdateKnowledgeBase(request).body();
    }

    /**
     * Update a knowledge base or create it if it doesn't exist.
     */
    public KnowledgeBaseResponse createOrUpdateKnowledgeBase(
            KnowledgeBaseRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .createOrUpdateKnowledgeBase(request, requestOptions)
                .body();
    }

    /**
     * Get an existing knowledge base by its supplied ID
     */
    public KnowledgeBaseResponse getKnowledgeBase(String knowledgeBaseReferenceId) {
        return this.rawClient.getKnowledgeBase(knowledgeBaseReferenceId).body();
    }

    /**
     * Get an existing knowledge base by its supplied ID
     */
    public KnowledgeBaseResponse getKnowledgeBase(String knowledgeBaseReferenceId, RequestOptions requestOptions) {
        return this.rawClient
                .getKnowledgeBase(knowledgeBaseReferenceId, requestOptions)
                .body();
    }

    /**
     * Create a new knowledge base version.
     * <p>If an existing version is in progress, then that version will be finalized in an error state.</p>
     */
    public KnowledgeBaseVersion createKnowledgeBaseVersion(
            String knowledgeBaseReferenceId, KnowledgeBaseVersion request) {
        return this.rawClient
                .createKnowledgeBaseVersion(knowledgeBaseReferenceId, request)
                .body();
    }

    /**
     * Create a new knowledge base version.
     * <p>If an existing version is in progress, then that version will be finalized in an error state.</p>
     */
    public KnowledgeBaseVersion createKnowledgeBaseVersion(
            String knowledgeBaseReferenceId, KnowledgeBaseVersion request, RequestOptions requestOptions) {
        return this.rawClient
                .createKnowledgeBaseVersion(knowledgeBaseReferenceId, request, requestOptions)
                .body();
    }

    /**
     * Finalize the latest knowledge base version. Required to indicate the version is complete. Will throw an exception if the latest version is not in progress.
     */
    public KnowledgeBaseVersion finalizeKnowledgeBaseVersion(String knowledgeBaseReferenceId) {
        return this.rawClient
                .finalizeKnowledgeBaseVersion(knowledgeBaseReferenceId)
                .body();
    }

    /**
     * Finalize the latest knowledge base version. Required to indicate the version is complete. Will throw an exception if the latest version is not in progress.
     */
    public KnowledgeBaseVersion finalizeKnowledgeBaseVersion(
            String knowledgeBaseReferenceId, FinalizeKnowledgeBaseVersionRequest request) {
        return this.rawClient
                .finalizeKnowledgeBaseVersion(knowledgeBaseReferenceId, request)
                .body();
    }

    /**
     * Finalize the latest knowledge base version. Required to indicate the version is complete. Will throw an exception if the latest version is not in progress.
     */
    public KnowledgeBaseVersion finalizeKnowledgeBaseVersion(
            String knowledgeBaseReferenceId,
            FinalizeKnowledgeBaseVersionRequest request,
            RequestOptions requestOptions) {
        return this.rawClient
                .finalizeKnowledgeBaseVersion(knowledgeBaseReferenceId, request, requestOptions)
                .body();
    }

    /**
     * Create knowledge document. Requires an existing knowledge base with an in progress version. Will throw an exception if the latest version is not in progress.
     * <p>&lt;Tip&gt;
     * This API maintains document version history. If for the same reference ID neither the `title` nor `text` fields
     * have changed, a new document version will not be created. The existing version will be reused.
     * &lt;/Tip&gt;</p>
     */
    public KnowledgeDocumentResponse createKnowledgeDocument(
            String knowledgeBaseReferenceId, KnowledgeDocumentRequest request) {
        return this.rawClient
                .createKnowledgeDocument(knowledgeBaseReferenceId, request)
                .body();
    }

    /**
     * Create knowledge document. Requires an existing knowledge base with an in progress version. Will throw an exception if the latest version is not in progress.
     * <p>&lt;Tip&gt;
     * This API maintains document version history. If for the same reference ID neither the `title` nor `text` fields
     * have changed, a new document version will not be created. The existing version will be reused.
     * &lt;/Tip&gt;</p>
     */
    public KnowledgeDocumentResponse createKnowledgeDocument(
            String knowledgeBaseReferenceId, KnowledgeDocumentRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .createKnowledgeDocument(knowledgeBaseReferenceId, request, requestOptions)
                .body();
    }

    /**
     * Not yet implemented. Update knowledge document. Requires an existing knowledge base with an in progress version of type PARTIAL. Will throw an exception if the latest version is not in progress.
     */
    public KnowledgeDocumentResponse updateKnowledgeDocument(
            String knowledgeBaseReferenceId, KnowledgeDocumentRequest request) {
        return this.rawClient
                .updateKnowledgeDocument(knowledgeBaseReferenceId, request)
                .body();
    }

    /**
     * Not yet implemented. Update knowledge document. Requires an existing knowledge base with an in progress version of type PARTIAL. Will throw an exception if the latest version is not in progress.
     */
    public KnowledgeDocumentResponse updateKnowledgeDocument(
            String knowledgeBaseReferenceId, KnowledgeDocumentRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .updateKnowledgeDocument(knowledgeBaseReferenceId, request, requestOptions)
                .body();
    }

    /**
     * Not yet implemented. Delete knowledge document. Requires an existing knowledge base with an in progress version of type PARTIAL. Will throw an exception if the latest version is not in progress.
     */
    public void deleteKnowledgeDocument(String knowledgeBaseReferenceId, String knowledgeDocumentReferenceId) {
        this.rawClient
                .deleteKnowledgeDocument(knowledgeBaseReferenceId, knowledgeDocumentReferenceId)
                .body();
    }

    /**
     * Not yet implemented. Delete knowledge document. Requires an existing knowledge base with an in progress version of type PARTIAL. Will throw an exception if the latest version is not in progress.
     */
    public void deleteKnowledgeDocument(
            String knowledgeBaseReferenceId, String knowledgeDocumentReferenceId, RequestOptions requestOptions) {
        this.rawClient
                .deleteKnowledgeDocument(knowledgeBaseReferenceId, knowledgeDocumentReferenceId, requestOptions)
                .body();
    }
}
