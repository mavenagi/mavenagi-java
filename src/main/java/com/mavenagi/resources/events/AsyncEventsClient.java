/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.mavenagi.resources.events;

import com.mavenagi.core.ClientOptions;
import com.mavenagi.core.RequestOptions;
import com.mavenagi.resources.commons.types.EventRequest;
import com.mavenagi.resources.commons.types.EventResponse;
import com.mavenagi.resources.commons.types.EventsSearchRequest;
import com.mavenagi.resources.commons.types.EventsSearchResponse;
import com.mavenagi.resources.events.requests.EventGetRequest;
import java.io.InputStream;
import java.util.concurrent.CompletableFuture;

public class AsyncEventsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawEventsClient rawClient;

    public AsyncEventsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawEventsClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawEventsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Create a new event
     */
    public CompletableFuture<EventResponse> create(EventRequest request) {
        return this.rawClient.create(request).thenApply(response -> response.body());
    }

    /**
     * Create a new event
     */
    public CompletableFuture<EventResponse> create(EventRequest request, RequestOptions requestOptions) {
        return this.rawClient.create(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Search events
     */
    public CompletableFuture<EventsSearchResponse> search() {
        return this.rawClient.search().thenApply(response -> response.body());
    }

    /**
     * Search events
     */
    public CompletableFuture<EventsSearchResponse> search(EventsSearchRequest request) {
        return this.rawClient.search(request).thenApply(response -> response.body());
    }

    /**
     * Search events
     */
    public CompletableFuture<EventsSearchResponse> search(EventsSearchRequest request, RequestOptions requestOptions) {
        return this.rawClient.search(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieve details of a specific Event item by its ID.
     */
    public CompletableFuture<EventResponse> get(String eventId, EventGetRequest request) {
        return this.rawClient.get(eventId, request).thenApply(response -> response.body());
    }

    /**
     * Retrieve details of a specific Event item by its ID.
     */
    public CompletableFuture<EventResponse> get(
            String eventId, EventGetRequest request, RequestOptions requestOptions) {
        return this.rawClient.get(eventId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Export events to a CSV file.
     * <p>This will output a summary of each event that matches the supplied filter. A maximum of 10,000 events can be exported at a time. For most use cases it is recommended to use the search API instead and convert the JSON response to your desired format. The CSV format may change over time and should not be relied upon by code consumers.</p>
     */
    public CompletableFuture<InputStream> export() {
        return this.rawClient.export().thenApply(response -> response.body());
    }

    /**
     * Export events to a CSV file.
     * <p>This will output a summary of each event that matches the supplied filter. A maximum of 10,000 events can be exported at a time. For most use cases it is recommended to use the search API instead and convert the JSON response to your desired format. The CSV format may change over time and should not be relied upon by code consumers.</p>
     */
    public CompletableFuture<InputStream> export(EventsSearchRequest request) {
        return this.rawClient.export(request).thenApply(response -> response.body());
    }

    /**
     * Export events to a CSV file.
     * <p>This will output a summary of each event that matches the supplied filter. A maximum of 10,000 events can be exported at a time. For most use cases it is recommended to use the search API instead and convert the JSON response to your desired format. The CSV format may change over time and should not be relied upon by code consumers.</p>
     */
    public CompletableFuture<InputStream> export(EventsSearchRequest request, RequestOptions requestOptions) {
        return this.rawClient.export(request, requestOptions).thenApply(response -> response.body());
    }
}
