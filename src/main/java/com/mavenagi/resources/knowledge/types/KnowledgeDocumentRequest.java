/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.mavenagi.resources.knowledge.types;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.mavenagi.core.ObjectMappers;
import com.mavenagi.resources.commons.types.EntityIdBase;
import com.mavenagi.resources.commons.types.EntityIdWithoutAgent;
import com.mavenagi.resources.commons.types.ScopedEntity;
import java.time.OffsetDateTime;
import java.util.HashMap;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import java.util.Set;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = KnowledgeDocumentRequest.Builder.class)
public final class KnowledgeDocumentRequest implements IBaseKnowledgeDocument {
    private final Optional<String> url;

    private final Optional<String> language;

    private final Optional<String> author;

    private final EntityIdBase knowledgeDocumentId;

    private final Optional<EntityIdWithoutAgent> versionId;

    private final KnowledgeDocumentContentType contentType;

    private final String title;

    private final Optional<EntityIdWithoutAgent> assetId;

    private final Optional<String> content;

    private final Optional<Map<String, String>> metadata;

    private final Optional<OffsetDateTime> createdAt;

    private final Optional<OffsetDateTime> updatedAt;

    private final Optional<Set<ScopedEntity>> relevantEntities;

    private final Map<String, Object> additionalProperties;

    private KnowledgeDocumentRequest(
            Optional<String> url,
            Optional<String> language,
            Optional<String> author,
            EntityIdBase knowledgeDocumentId,
            Optional<EntityIdWithoutAgent> versionId,
            KnowledgeDocumentContentType contentType,
            String title,
            Optional<EntityIdWithoutAgent> assetId,
            Optional<String> content,
            Optional<Map<String, String>> metadata,
            Optional<OffsetDateTime> createdAt,
            Optional<OffsetDateTime> updatedAt,
            Optional<Set<ScopedEntity>> relevantEntities,
            Map<String, Object> additionalProperties) {
        this.url = url;
        this.language = language;
        this.author = author;
        this.knowledgeDocumentId = knowledgeDocumentId;
        this.versionId = versionId;
        this.contentType = contentType;
        this.title = title;
        this.assetId = assetId;
        this.content = content;
        this.metadata = metadata;
        this.createdAt = createdAt;
        this.updatedAt = updatedAt;
        this.relevantEntities = relevantEntities;
        this.additionalProperties = additionalProperties;
    }

    /**
     * @return The URL of the document. Should be visible to end users. Will be shown as part of answers. Not used for crawling.
     */
    @JsonProperty("url")
    @java.lang.Override
    public Optional<String> getUrl() {
        return url;
    }

    /**
     * @return The document language. Must be a valid ISO 639-1 language code.
     */
    @JsonProperty("language")
    @java.lang.Override
    public Optional<String> getLanguage() {
        return language;
    }

    /**
     * @return The name of the author who created this document.
     */
    @JsonProperty("author")
    @java.lang.Override
    public Optional<String> getAuthor() {
        return author;
    }

    /**
     * @return ID that uniquely identifies this knowledge document within its knowledge base
     */
    @JsonProperty("knowledgeDocumentId")
    public EntityIdBase getKnowledgeDocumentId() {
        return knowledgeDocumentId;
    }

    /**
     * @return ID that uniquely identifies which knowledge base version to create the document in. If not provided will use the most recent version of the knowledge base.
     */
    @JsonProperty("versionId")
    public Optional<EntityIdWithoutAgent> getVersionId() {
        return versionId;
    }

    /**
     * @return Type of knowledge document content, if content is provided. This does not need to be set if content is not provided
     */
    @JsonProperty("contentType")
    public KnowledgeDocumentContentType getContentType() {
        return contentType;
    }

    /**
     * @return The title of the document. Will be shown as part of answers.
     */
    @JsonProperty("title")
    public String getTitle() {
        return title;
    }

    /**
     * @return ID of the asset associated with this document. This asset will be transformed into text and set as the content of the document. The following types are supported: <code>application/pdf</code>, <code>text/plain</code>.  Either this or content is required, but not both
     */
    @JsonProperty("assetId")
    public Optional<EntityIdWithoutAgent> getAssetId() {
        return assetId;
    }

    /**
     * @return The content of the document. Not shown directly to users. May be provided in HTML or markdown. HTML will be converted to markdown automatically. Images are not currently supported and will be ignored. Either this or assetId is required, but not both
     */
    @JsonProperty("content")
    public Optional<String> getContent() {
        return content;
    }

    /**
     * @return Metadata for the knowledge document.
     */
    @JsonProperty("metadata")
    public Optional<Map<String, String>> getMetadata() {
        return metadata;
    }

    /**
     * @return The time at which this document was created.
     */
    @JsonProperty("createdAt")
    public Optional<OffsetDateTime> getCreatedAt() {
        return createdAt;
    }

    /**
     * @return The time at which this document was last modified.
     */
    @JsonProperty("updatedAt")
    public Optional<OffsetDateTime> getUpdatedAt() {
        return updatedAt;
    }

    /**
     * @return Scoped entities this document is associated with for context-based filtering. By default, the document is associated with the agent.
     */
    @JsonProperty("relevantEntities")
    public Optional<Set<ScopedEntity>> getRelevantEntities() {
        return relevantEntities;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof KnowledgeDocumentRequest && equalTo((KnowledgeDocumentRequest) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(KnowledgeDocumentRequest other) {
        return url.equals(other.url)
                && language.equals(other.language)
                && author.equals(other.author)
                && knowledgeDocumentId.equals(other.knowledgeDocumentId)
                && versionId.equals(other.versionId)
                && contentType.equals(other.contentType)
                && title.equals(other.title)
                && assetId.equals(other.assetId)
                && content.equals(other.content)
                && metadata.equals(other.metadata)
                && createdAt.equals(other.createdAt)
                && updatedAt.equals(other.updatedAt)
                && relevantEntities.equals(other.relevantEntities);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(
                this.url,
                this.language,
                this.author,
                this.knowledgeDocumentId,
                this.versionId,
                this.contentType,
                this.title,
                this.assetId,
                this.content,
                this.metadata,
                this.createdAt,
                this.updatedAt,
                this.relevantEntities);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static KnowledgeDocumentIdStage builder() {
        return new Builder();
    }

    public interface KnowledgeDocumentIdStage {
        /**
         * <p>ID that uniquely identifies this knowledge document within its knowledge base</p>
         */
        ContentTypeStage knowledgeDocumentId(@NotNull EntityIdBase knowledgeDocumentId);

        Builder from(KnowledgeDocumentRequest other);
    }

    public interface ContentTypeStage {
        /**
         * <p>Type of knowledge document content, if content is provided. This does not need to be set if content is not provided</p>
         */
        TitleStage contentType(@NotNull KnowledgeDocumentContentType contentType);
    }

    public interface TitleStage {
        /**
         * <p>The title of the document. Will be shown as part of answers.</p>
         */
        _FinalStage title(@NotNull String title);
    }

    public interface _FinalStage {
        KnowledgeDocumentRequest build();

        /**
         * <p>The URL of the document. Should be visible to end users. Will be shown as part of answers. Not used for crawling.</p>
         */
        _FinalStage url(Optional<String> url);

        _FinalStage url(String url);

        /**
         * <p>The document language. Must be a valid ISO 639-1 language code.</p>
         */
        _FinalStage language(Optional<String> language);

        _FinalStage language(String language);

        /**
         * <p>The name of the author who created this document.</p>
         */
        _FinalStage author(Optional<String> author);

        _FinalStage author(String author);

        /**
         * <p>ID that uniquely identifies which knowledge base version to create the document in. If not provided will use the most recent version of the knowledge base.</p>
         */
        _FinalStage versionId(Optional<EntityIdWithoutAgent> versionId);

        _FinalStage versionId(EntityIdWithoutAgent versionId);

        /**
         * <p>ID of the asset associated with this document. This asset will be transformed into text and set as the content of the document. The following types are supported: <code>application/pdf</code>, <code>text/plain</code>.  Either this or content is required, but not both</p>
         */
        _FinalStage assetId(Optional<EntityIdWithoutAgent> assetId);

        _FinalStage assetId(EntityIdWithoutAgent assetId);

        /**
         * <p>The content of the document. Not shown directly to users. May be provided in HTML or markdown. HTML will be converted to markdown automatically. Images are not currently supported and will be ignored. Either this or assetId is required, but not both</p>
         */
        _FinalStage content(Optional<String> content);

        _FinalStage content(String content);

        /**
         * <p>Metadata for the knowledge document.</p>
         */
        _FinalStage metadata(Optional<Map<String, String>> metadata);

        _FinalStage metadata(Map<String, String> metadata);

        /**
         * <p>The time at which this document was created.</p>
         */
        _FinalStage createdAt(Optional<OffsetDateTime> createdAt);

        _FinalStage createdAt(OffsetDateTime createdAt);

        /**
         * <p>The time at which this document was last modified.</p>
         */
        _FinalStage updatedAt(Optional<OffsetDateTime> updatedAt);

        _FinalStage updatedAt(OffsetDateTime updatedAt);

        /**
         * <p>Scoped entities this document is associated with for context-based filtering. By default, the document is associated with the agent.</p>
         */
        _FinalStage relevantEntities(Optional<Set<ScopedEntity>> relevantEntities);

        _FinalStage relevantEntities(Set<ScopedEntity> relevantEntities);
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder implements KnowledgeDocumentIdStage, ContentTypeStage, TitleStage, _FinalStage {
        private EntityIdBase knowledgeDocumentId;

        private KnowledgeDocumentContentType contentType;

        private String title;

        private Optional<Set<ScopedEntity>> relevantEntities = Optional.empty();

        private Optional<OffsetDateTime> updatedAt = Optional.empty();

        private Optional<OffsetDateTime> createdAt = Optional.empty();

        private Optional<Map<String, String>> metadata = Optional.empty();

        private Optional<String> content = Optional.empty();

        private Optional<EntityIdWithoutAgent> assetId = Optional.empty();

        private Optional<EntityIdWithoutAgent> versionId = Optional.empty();

        private Optional<String> author = Optional.empty();

        private Optional<String> language = Optional.empty();

        private Optional<String> url = Optional.empty();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        @java.lang.Override
        public Builder from(KnowledgeDocumentRequest other) {
            url(other.getUrl());
            language(other.getLanguage());
            author(other.getAuthor());
            knowledgeDocumentId(other.getKnowledgeDocumentId());
            versionId(other.getVersionId());
            contentType(other.getContentType());
            title(other.getTitle());
            assetId(other.getAssetId());
            content(other.getContent());
            metadata(other.getMetadata());
            createdAt(other.getCreatedAt());
            updatedAt(other.getUpdatedAt());
            relevantEntities(other.getRelevantEntities());
            return this;
        }

        /**
         * <p>ID that uniquely identifies this knowledge document within its knowledge base</p>
         * <p>ID that uniquely identifies this knowledge document within its knowledge base</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("knowledgeDocumentId")
        public ContentTypeStage knowledgeDocumentId(@NotNull EntityIdBase knowledgeDocumentId) {
            this.knowledgeDocumentId =
                    Objects.requireNonNull(knowledgeDocumentId, "knowledgeDocumentId must not be null");
            return this;
        }

        /**
         * <p>Type of knowledge document content, if content is provided. This does not need to be set if content is not provided</p>
         * <p>Type of knowledge document content, if content is provided. This does not need to be set if content is not provided</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("contentType")
        public TitleStage contentType(@NotNull KnowledgeDocumentContentType contentType) {
            this.contentType = Objects.requireNonNull(contentType, "contentType must not be null");
            return this;
        }

        /**
         * <p>The title of the document. Will be shown as part of answers.</p>
         * <p>The title of the document. Will be shown as part of answers.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("title")
        public _FinalStage title(@NotNull String title) {
            this.title = Objects.requireNonNull(title, "title must not be null");
            return this;
        }

        /**
         * <p>Scoped entities this document is associated with for context-based filtering. By default, the document is associated with the agent.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage relevantEntities(Set<ScopedEntity> relevantEntities) {
            this.relevantEntities = Optional.ofNullable(relevantEntities);
            return this;
        }

        /**
         * <p>Scoped entities this document is associated with for context-based filtering. By default, the document is associated with the agent.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "relevantEntities", nulls = Nulls.SKIP)
        public _FinalStage relevantEntities(Optional<Set<ScopedEntity>> relevantEntities) {
            this.relevantEntities = relevantEntities;
            return this;
        }

        /**
         * <p>The time at which this document was last modified.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage updatedAt(OffsetDateTime updatedAt) {
            this.updatedAt = Optional.ofNullable(updatedAt);
            return this;
        }

        /**
         * <p>The time at which this document was last modified.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "updatedAt", nulls = Nulls.SKIP)
        public _FinalStage updatedAt(Optional<OffsetDateTime> updatedAt) {
            this.updatedAt = updatedAt;
            return this;
        }

        /**
         * <p>The time at which this document was created.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage createdAt(OffsetDateTime createdAt) {
            this.createdAt = Optional.ofNullable(createdAt);
            return this;
        }

        /**
         * <p>The time at which this document was created.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "createdAt", nulls = Nulls.SKIP)
        public _FinalStage createdAt(Optional<OffsetDateTime> createdAt) {
            this.createdAt = createdAt;
            return this;
        }

        /**
         * <p>Metadata for the knowledge document.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage metadata(Map<String, String> metadata) {
            this.metadata = Optional.ofNullable(metadata);
            return this;
        }

        /**
         * <p>Metadata for the knowledge document.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "metadata", nulls = Nulls.SKIP)
        public _FinalStage metadata(Optional<Map<String, String>> metadata) {
            this.metadata = metadata;
            return this;
        }

        /**
         * <p>The content of the document. Not shown directly to users. May be provided in HTML or markdown. HTML will be converted to markdown automatically. Images are not currently supported and will be ignored. Either this or assetId is required, but not both</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage content(String content) {
            this.content = Optional.ofNullable(content);
            return this;
        }

        /**
         * <p>The content of the document. Not shown directly to users. May be provided in HTML or markdown. HTML will be converted to markdown automatically. Images are not currently supported and will be ignored. Either this or assetId is required, but not both</p>
         */
        @java.lang.Override
        @JsonSetter(value = "content", nulls = Nulls.SKIP)
        public _FinalStage content(Optional<String> content) {
            this.content = content;
            return this;
        }

        /**
         * <p>ID of the asset associated with this document. This asset will be transformed into text and set as the content of the document. The following types are supported: <code>application/pdf</code>, <code>text/plain</code>.  Either this or content is required, but not both</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage assetId(EntityIdWithoutAgent assetId) {
            this.assetId = Optional.ofNullable(assetId);
            return this;
        }

        /**
         * <p>ID of the asset associated with this document. This asset will be transformed into text and set as the content of the document. The following types are supported: <code>application/pdf</code>, <code>text/plain</code>.  Either this or content is required, but not both</p>
         */
        @java.lang.Override
        @JsonSetter(value = "assetId", nulls = Nulls.SKIP)
        public _FinalStage assetId(Optional<EntityIdWithoutAgent> assetId) {
            this.assetId = assetId;
            return this;
        }

        /**
         * <p>ID that uniquely identifies which knowledge base version to create the document in. If not provided will use the most recent version of the knowledge base.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage versionId(EntityIdWithoutAgent versionId) {
            this.versionId = Optional.ofNullable(versionId);
            return this;
        }

        /**
         * <p>ID that uniquely identifies which knowledge base version to create the document in. If not provided will use the most recent version of the knowledge base.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "versionId", nulls = Nulls.SKIP)
        public _FinalStage versionId(Optional<EntityIdWithoutAgent> versionId) {
            this.versionId = versionId;
            return this;
        }

        /**
         * <p>The name of the author who created this document.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage author(String author) {
            this.author = Optional.ofNullable(author);
            return this;
        }

        /**
         * <p>The name of the author who created this document.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "author", nulls = Nulls.SKIP)
        public _FinalStage author(Optional<String> author) {
            this.author = author;
            return this;
        }

        /**
         * <p>The document language. Must be a valid ISO 639-1 language code.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage language(String language) {
            this.language = Optional.ofNullable(language);
            return this;
        }

        /**
         * <p>The document language. Must be a valid ISO 639-1 language code.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "language", nulls = Nulls.SKIP)
        public _FinalStage language(Optional<String> language) {
            this.language = language;
            return this;
        }

        /**
         * <p>The URL of the document. Should be visible to end users. Will be shown as part of answers. Not used for crawling.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage url(String url) {
            this.url = Optional.ofNullable(url);
            return this;
        }

        /**
         * <p>The URL of the document. Should be visible to end users. Will be shown as part of answers. Not used for crawling.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "url", nulls = Nulls.SKIP)
        public _FinalStage url(Optional<String> url) {
            this.url = url;
            return this;
        }

        @java.lang.Override
        public KnowledgeDocumentRequest build() {
            return new KnowledgeDocumentRequest(
                    url,
                    language,
                    author,
                    knowledgeDocumentId,
                    versionId,
                    contentType,
                    title,
                    assetId,
                    content,
                    metadata,
                    createdAt,
                    updatedAt,
                    relevantEntities,
                    additionalProperties);
        }
    }
}
